# 클라이언트, 서버 연동 규칙

## 이동

### 일반 이동

  * 클라이언트가 이동 시작과 종료, 충돌을 서버에 알린다.
  * 서버는 과도한 이동인지 아닌지를 판별해 과도하지 않은 이동이라면 승인한다.

### 점프

  * 클라이언트는 점프 시작과 종료, 충돌을 서버에 알린다.
  * 서버는 과도한 점프인지 아닌지를 판별해 과도하지 않은 점프라면 승인한다.
  * 점프 시작하는 이벤트는 시작 위치가 어긋나지 않고 중첩점프같은 비정상 액션 아닌 이상 항상 허용

### 다른 유저에게 브로드 캐스트

  * 점프 시작을 기준으로, 현재까지의 시간을 기준으로한 예측 값을 전송한다.
  * 이동도 마찬가지로, 이동 시작을 기준으로 현재까지의 시간의 예상 이동 값을 전송한다.


## NPC

### NPC 동작
  
  * NPC는 기본적으로 움직이지 않는다.
  * 클라이언트 시야에 NPC가 들어오면 그때 동작을 시작한다.
    * 처음 발견한 클라이언트에 귀속된다.
    * 해당 클라이언트가 시야에 사라지면 시야에 보이는 다른 클라이언트를 찾아 귀속대상을 변경하고 존재하지 않는다면 더 이상 NPC는 어떤 행동도 취하지 않는다